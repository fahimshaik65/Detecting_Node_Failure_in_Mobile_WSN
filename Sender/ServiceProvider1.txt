import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Container;
import java.awt.Font;
import java.awt.Image;
import java.awt.Toolkit;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.KeyEvent;
import java.awt.event.WindowAdapter;
import java.awt.event.WindowEvent;
import java.io.BufferedInputStream;
import java.io.BufferedOutputStream;
import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.DataInputStream;
import java.io.DataOutputStream;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStreamReader;
import java.io.PrintStream;
import java.math.BigInteger;
import java.net.InetAddress;
import java.net.Socket;
import java.net.UnknownHostException;
import java.security.DigestInputStream;
import java.security.MessageDigest;
import java.sql.Connection;
import java.sql.Statement;
import java.text.SimpleDateFormat;
import java.util.Date;

import javax.swing.BorderFactory;
import javax.swing.ImageIcon;
import javax.swing.JButton;
import javax.swing.JCheckBox;
import javax.swing.JComboBox;
import javax.swing.JFileChooser;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.JTextArea;
import javax.swing.JTextField;
import javax.swing.UIManager;
import javax.swing.border.Border;
import javax.swing.border.TitledBorder;
import java.io.BufferedReader;

public class ServiceProvider implements ActionListener
{		
	byte[] b;
	String dd;
	String txtstr=null;
	String hash;
	String filename;
	String content,path1;
	ImageIcon ic;

	public JLabel T0= new JLabel();

	public JLabel confirm=new JLabel();
	public JLabel T2= new JLabel("File Name");
	public JLabel T4= new JLabel();
	
	
	public JButton btn = new JButton("Browse");
	public JTextArea tf = new JTextArea();
	public JScrollPane pane = new JScrollPane();
	public JButton btn1 = new JButton("Open");
	public JButton btn2 = new JButton("Initialise Nodes");
	public JButton btn3 = new JButton("Send");
	public JButton btn4 = new JButton("Recover");
	
	public JTextField txt=new JTextField();
	public JTextField txt1=new JTextField();
	public JTextField txt2=new JTextField();
	 
	public JLabel  leftButton,l5;
		
	JLabel back= new JLabel();
	public JFrame jf;
	public Container c;
	String event;
	String keyWord = "ef50a0ef2c3e3a5fdf803ae9752c8c66";

	String send,event1,event2;
	
	//ImageIcon greengr = new ImageIcon(this.getClass().getResource("sp.png"));
	ServiceProvider()
	{	
		
		jf = new JFrame("Test1");
		c = jf.getContentPane();
		c.setLayout(null);
		jf.setSize(900,600);
	//	jf.setResizable(false);  
		c.setBackground(Color.white);
		
//		ic=new ImageIcon(this.getClass().getResource("owner1.png"));
//		l5=new JLabel();
//		l5.setIcon(ic);
//		l5.setBounds(0, 0, 970,490);
	   
	    T0.setForeground(Color.CYAN);
		T2.setBounds(350, 110, 250,45);

		T2.setForeground(Color.blue);
		
		txt1.setBounds(450, 120, 300,25);
		txt1.setForeground(Color.MAGENTA);

		T4.setBounds(225, 540, 250,45);

		T4.setForeground(Color.RED);
		
		txt2.setBounds(220, 595, 250,30);
		txt2.setForeground(Color.BLUE);

	    confirm.setBounds(445, 520, 250,45);
	    
	    confirm.setForeground(new Color(255,0,0));

		btn.setBounds(130,150,120,30);
		btn2.setBounds(130,250,120,30);
		btn3.setBounds(130, 350,120,30);
		btn4.setBounds(130, 450,120,30);
		
	//	btn.setFont(f3);
		
		btn1.setBounds(420,198,70,25);
		
		txt.setBounds(260,150,180,25);
		txt.setForeground(Color.BLUE);
		
		pane.setBounds(350, 150, 400, 250);
		
		tf.setColumns(20);
		
		tf.setForeground(Color.MAGENTA);

		tf.setRows(10);
		tf.setName("tf");
		pane.setName("pane");
		pane.setViewportView(tf);
		
		btn1.addActionListener(this)